**Рекурсия** — это приём программирования, при котором функция вызывает саму себя для решения подзадачи. Такой вызов называется рекурсивным. В большинстве случаев рекурсию можно заменить циклом, однако рекурсивные решения часто короче и проще для понимания.

## Когда использовать рекурсию
- Когда задача естественно разбивается на подзадачи того же типа (например, обход дерева, вычисление факториала, сумма чисел).
- Когда важна читаемость и простота кода.
- Если глубина рекурсии не слишком велика (иначе возможен переполнение стека вызовов).

> Любую рекурсию можно переписать на цикл, но иногда это усложняет код. Оптимизация нужна не всегда — главное, чтобы код был понятным и поддерживаемым.

---

## Примеры рекурсии и сравнение с циклами

### Возведение в натуральную степень

```js
// Итеративный способ (через цикл)
const pow1 = (x, n) => {
  let result = 1;
  for (let i = 0; i < n; i++) {
    result *= x;
  }
  return result;
};

console.log(pow1(2, 3)); // 8

// Рекурсивный способ
const pow = (x, n) => {
  // Базовый случай: степень 1
  if (n === 1) {
    return x;
  } else {
    // Рекурсивный вызов: уменьшаем степень
    return x * pow(x, n - 1);
  }
};

console.log(pow(2, 3)); // 8
```

---

### Сумма чисел от 1 до n

```js
// Итеративный способ (через цикл)
const sum1 = (n) => {
  let sum = 0;
  for (let i = 1; i <= n; i++) {
    sum += i;
  }
  return sum;
};

console.log(sum1(5)); // 15

// Рекурсивный способ
const sumTo = (n) => {
  // Базовый случай: n = 1
  if (n === 1) return 1;
  // Рекурсивный вызов: уменьшаем n
  return n + sumTo(n - 1);
};

console.log(sumTo(5)); // 15
console.log(sumTo(6)); // 21
console.log(sumTo(100)); // 5050

// Математическая формула (самый быстрый способ)
const sum3 = (n) => {
  return n * (n + 1) / 2;
};

console.log(sum3(100)); // 5050
```

---

### Факториал

```js
/*
  Факториал — это произведение всех натуральных чисел от 1 до n.
  Например, факториал 5: 1 × 2 × 3 × 4 × 5 = 120
*/
const factorial = (n) => {
  // Базовый случай: факториал 1 равен 1
  return (n != 1) ? n * factorial(n - 1) : 1;
};

console.log(factorial(5)); // 120
```

---

## Итоги
- Рекурсия — мощный инструмент для решения задач, которые можно разбить на подзадачи.
- Важно всегда определять базовый случай, чтобы избежать бесконечной рекурсии.
- Для простых задач часто эффективнее использовать циклы, но рекурсия делает код более выразительным и понятным.
